const kws = [
    'example1',
    'example2',
    'example3',
    // Add more kw objects as needed
];


// Iterate over the kws array and create HTML elements
page_obj.object_list.forEach(content1 => {
    const post1 = document.createElement('div');
    post1.id = content1;
    post1.className="post";
    post1.innerHTML = content1;
    document.querySelector('#posts').append(post1);
    
});



{% block content %}
            {% for kw in page_obj %}<pre id={{kw}}>{{kw}}</pre>{% endfor %}
            {% endblock %}



page_obj.object_list.forEach(add_post);
console.log(page_obj.object_list); 



path("posts", views.posts, name="posts")
def posts(request):

    # Get start and end points
    start = int(request.GET.get("start") or 0)
    end = int(request.GET.get("end") or (start + 9))

    # Generate list of posts
    data = []
    for i in range(start, end + 1):
        data.append(f"Post #{i}")


    # Artificially delay speed of response
    time.sleep(1)
    paginator = Paginator(data, 5)
    page_obj = paginator.get_page(1)
    print(paginator.page(1).object_list)

    print(page_obj)

    # Return list of posts
    """
    return JsonResponse({
        "posts": page_obj.object_list,
    })
    """

    return render(request, 'network/index.html', {"page_obj": page_obj})




def posts(request):

    # Get start and end points
    start = int(request.GET.get("start") or 0)
    end = int(request.GET.get("end") or (start + 9))

    # Generate list of posts
    data = []
    for i in range(start, end + 1):
        data.append(f"Post #{i}")


    # Artificially delay speed of response
    time.sleep(1)
    paginator = Paginator(data, 5)

    # Return list of posts
    return JsonResponse({
        "posts": data
    })

      .then(response =>response.json())
                .then(result => {
                    console.log(result)
                    const stat= JSON.stringfy(result);
                });



                document.addEventListener('DOMContentLoaded', function() {

                    document.querySelectorAll('form').forEach(function(form) {
                        form.addEventListener('submit', function(event) {
                            event.preventDefault();
                            var formId = this.id;
                            
                            console.log('Form with ID ' + formId + ' was submitted');
                            console.log("Nah testing jimbrutta")
                            if(formId==='new-post-form')
                            {
                               
                                let post_text = document.querySelector('#compose-post').value;
                
                                console.log("Post text is" + post_text)
                                console.log("Formid is " + formId)
                
                                
                                fetch('', {
                                    method: 'POST',
                                    body: JSON.stringify({
                                        post_text: post_text,
                                        form_id: formId
                                    }),
                                    credentials: 'same-origin',
                
                                });
                                
                              
                                
                                
                            }
                            
                        });
                    });
                });
                